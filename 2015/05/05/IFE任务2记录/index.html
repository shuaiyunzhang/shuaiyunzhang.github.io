<!doctype html>
<html class="theme-next use-motion">
<head>
  

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


  <meta name="google-site-verification" content="google65db1e6d85524020.html" />



  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.3.0rc1"/>




    <link rel="alternate" href="/atom.xml" title="Nekonyan's秘密基地" type="application/atom+xml" />



    <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.3.0rc1" />



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?39d05a0d6cdd082f9a0da1f7dd8028d6";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>

  <title> IFE任务2记录 // Nekonyan's秘密基地 </title>
</head>

<body>
  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <div id="header" class="header">
      <div class="header-inner">
        <h1 class="site-meta">
    <a href="/" class="brand">
        <span class="logo">
          <i class="icon-logo"></i>
        </span>
        <span class="site-title">Nekonyan's秘密基地</span>
    </a>
</h1>


  <ul id="menu" class="menu">
    
      
      
        <li class="menu-item menu-item-home">
        <a href="/">
          <i class="menu-item-icon icon-home"></i> <br />
          首页
      
        </a>
      </li>
    
      
      
        <li class="menu-item menu-item-about">
        <a href="/about/">
          <i class="menu-item-icon icon-about"></i> <br />
          关于
      
        </a>
      </li>
    
      
      
        <li class="menu-item menu-item-archives">
        <a href="/archives/">
          <i class="menu-item-icon icon-archives"></i> <br />
          归档
      
        </a>
      </li>
    
      
      
        <li class="menu-item menu-item-tags">
        <a href="/tags/">
          <i class="menu-item-icon icon-tags"></i> <br />
          标签
      
        </a>
      </li>
    
      
      
         
      <li class="menu-item menu-item-feed">
        <a href="/atom.xml">
          <i class="menu-item-icon icon-feed"></i> <br />
          
          RSS
      
        </a>
      </li>
    
  </ul>


      </div>
    </div>

    <div id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
            
          

          <div id="posts" class="posts-expand">
            
  

  <div class="post post-type-normal ">
    <div class="post-header">

      
      
        <h1 class="post-title">
          
          
            
              IFE任务2记录
            
          
        </h1>
      

      <div class="post-meta">
          <span class="post-time">
            
              发表于 2015-05-04
            
          </span>
        
          
            <span class="post-comments-count">
            &nbsp; | &nbsp;
            <a href="/2015/05/05/IFE任务2记录/#comments" >
              <span class="post-comments-count ds-thread-count" data-thread-key="2015/05/05/IFE任务2记录/"></span>
            </a>
          </span>
          
        
      </div>
    </div>

    
      <div class="post-body">

        
        

        
          <h2 id="任务二">任务二</h2><p>任务二<a href="https://github.com/baidu-ife/ife/tree/master/task/task0002" target="_blank" rel="external">地址</a></p>
<p>任务二主要是JS基础知识方面的训练，给出的参考资料链接有五个，两个慕课网的JS课程和W3CSchool教程均以看过，MDN有所了解但一直没怎么看，任务二促使我开始看MDN的JS部分。对于Codecademy也是有了解，点进去看之后，发现是主要是JS编程实践，这对于现阶段的我来说实在是很有帮助，马上就去注册了账号准备开始。</p>
<a id="more"></a>
<h3 id="Start">Start</h3><h3 id="1-_创建第一个页面交互">1. 创建第一个页面交互</h3><h4 id="1-1_任务描述">1.1 任务描述</h4><p>这部分没有什么难度。下面是一些我认为比较重要的点。</p>
<ul>
<li>在script元素里面做的代码修改使我很有启发，它将整个过程每一步具体要实现的功能都用函数封装起来，最后只有一个<code>initEvent()</code>接口，因为写代码比较少，虽然对这种思想有所了解，但没真正用过，值得注意。</li>
<li>页面效果在Chrome和IE8（无反应）下不同的原因很简单，因为IE8不支持<code>addEventListener</code>这个事件处理方法，应该是<code>attachEvent</code>，不过相信后面应该会讲到，在此不深究。</li>
</ul>
<h4 id="1-2_期望达成">1.2 期望达成</h4><ul>
<li>了解JavaScript是什么</li>
<li>如何在HTML页面加载JavaScript代码</li>
<li>搜索一下，为什么我们让你把<code>&lt;script&gt;</code>放在<code>&lt;/body&gt;</code>前。</li>
</ul>
<p>对于这三个问题之我的理解</p>
<ul>
<li>1、对于我来说，这是一个很大的问题，首先是一些认识，JS是一门Netscape推出的脚本语言，由ECMAScript、DOM和BOM三部分构成。看了MDN上的说法(见下面)，写的比较简单，在我的理解上应该还要加上<strong>弱类型</strong>、<strong>动态类型</strong>、<strong>基于原型</strong>这三点，在这个过程中了解到了<strong>“类型系统”</strong>这个概念，发现又是一个大坑啊，准备去研究一下。这样的话就可以用<strong>轻量级</strong>、<strong>解释型</strong>、<strong>面向对象</strong>、<strong>函数first-class</strong>加上上面说到的三个点来比较全面描述JavaScript这门语言。对于这七点中，<strong>弱类型</strong>、<strong>动态类型</strong>、<strong>函数first-class</strong>是我不熟悉的，但我进行了额外了解，但这里限于主题就不展开了。</li>
</ul>
<blockquote>
<p>JavaScript® (often shortened to JS) is a lightweight, interpreted, object-oriented language with first-class functions</p>
</blockquote>
<ul>
<li>2、想到的有两种，均使用<code>&lt;script&gt;</code>元素：1、从<code>src</code>属性导入外部js文件；2、在<code>&lt;script&gt;</code>元素内部嵌入js文件。当然按照1.3那篇文章的说法还有很多种。</li>
<li>3、这个问题在1.3给出链接中的那篇文章有详细的解释.</li>
</ul>
<blockquote>
<p>当浏览器解析到<code>&lt;script&gt;</code>标签时，浏览器会停止解析其后的内容，而优先下载脚本文件，并执行其中的代码，这意味着，其后的 styles.css 样式文件和<code>&lt;body&gt;</code>标签都无法被加载，由于<code>&lt;body&gt;</code>标签无法被加载，那么页面自然就无法渲染了。因此在该 JavaScript 代码完全执行完之前，页面都是一片空白。由于脚本会阻塞页面其他资源的下载，因此推荐将所有<code>&lt;script&gt;</code>标签尽可能放到<body>标签的底部，以尽量减少对整个页面下载的影响。</body></p>
</blockquote>
<h3 id="2-_JavaScript数据类型及语言基础">2. JavaScript数据类型及语言基础</h3><h4 id="2-1_任务描述">2.1 任务描述</h4><ul>
<li><strong>1、判断数据类型。</strong>原本我使用的是<code>instanceof</code>操作符，在搜了一些信息后发现这种用法不是很好，具体见这篇<a href="http://segmentfault.com/a/1190000000730982" target="_blank" rel="external">文章</a>，里面介绍说为了判断数据类型，最好使用<code>Object.prototype.toString</code>方法，而不是<code>typeof</code>和<code>instanceof</code>，主要是因为该方法能够获取到对象内部属性[[Class]]的值，而另外两种则可能会返回一些不太标准的值，而且另外两种有自己专有的功能。</li>
<li><strong>2、深度克隆。</strong>以前没接触过，为此好好去找了些资料。首先需要对值类型和引用类型进行区别：</li>
</ul>
<blockquote>
<p>值类型：undefined,null,Boolean,String,Number。按照值来传递。</p>
<p>引用类型：对象、数组、函数。按址传递，引用类型在值传递的时候是内存中的地址</p>
<p>而对于克隆或者说拷贝分为两种：</p>
<p>浅度克隆：值类型为值传递，对象仍为引用传递。 </p>
<p>深度克隆：所有元素或属性均完全克隆，并于原引用类型完全独立，即，在后面修改对象的属性的时候，原对象不会被修改。</p>
</blockquote>
<ul>
<li><strong>3、数组去重。</strong>开始的想法是用两个<code>for</code>循环数组内部进行对比，然后判断再去重（大致思路见下面），但不是很喜欢这种方法。后面在浏览同学代码时发现使用<code>indexOf()</code>来进行去重，感觉很有意思，便决定使用这个来实现去重。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (j = i + <span class="number">1</span>; j &lt; arr.length; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[i] == arr[j]) &#123;</span><br><span class="line">            arr.splice(j, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> arr;</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>4、字符串首尾去空格。</strong>这里使用了<code>if</code>判断，然后递归。这里需要注意的是js中全等的优先级大于逻辑或，我直接在全等后面直接用逻辑或导致浏览器报错说超出范围。使用正则本来是直接匹配<code>\s</code>的，但去看jQuery源码时发现是<code>rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g</code>，<code>\uFEFF\xA0</code>这两个东西实在不懂，去看<a href="http://www.zhihu.com/question/20129435" target="_blank" rel="external">知乎</a>、<a href="https://msdn.microsoft.com/library/2yfce773" target="_blank" rel="external">MSDN</a>和<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="external">MDN</a>上关于特殊字符的解释，似懂非懂，还是先加上再说。</li>
<li><strong>5、遍历数组。</strong>略过。</li>
<li><strong>6、获取第一层元素数量。</strong>略过。</li>
<li><strong>7、判断电子邮箱和手机号。</strong>常用的正则判断，总结一下：<code>/^([a-zA-Z0-9]+[_|\-|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\-|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/</code>和<code>/^1[3|4|5|8][0-9]\d{4,8}$/</code></li>
</ul>
<h4 id="2-2_期望达成">2.2 期望达成</h4><ul>
<li>掌握JavaScript的各种数据类型概念、判断方法</li>
<li>掌握JavaScript函数、对象的概念</li>
<li>掌握字符串、数字、数组、日期等对象的方法</li>
<li>了解JavaScript的作用域</li>
<li>初步掌握正则表达式的写法</li>
</ul>
<p>对于这五个问题之我的理解</p>
<ul>
<li>1、略过</li>
<li>2、略过</li>
<li>3、个人认为这一点很重要，因为字符串、数字、数组的方法算是很常用的，像<code>splice()</code>、<code>slice()</code>这些，通过上面的练习和看资料，慢慢熟悉中。</li>
<li>4、这里应该指的是作用域链。关于这里，在《JavaScript高级程序设计》的4.2节说的很详细，不赘述。</li>
<li>5、略过。</li>
</ul>
<h3 id="3-_DOM">3. DOM</h3><h4 id="3-1_任务描述">3.1 任务描述</h4><ul>
<li><strong>1、添加样式。</strong>略过</li>
<li><strong>2、移除样式。</strong>略过</li>
<li><strong>3、判断是否同一父元素。</strong>略过</li>
<li><strong>4、相对于浏览器窗口位置。</strong>对于判断位置我一直搞不清楚，趁这个问题好好补了一下。判断元素位置在《JavaScript高级程序设计》一书中看到三种：<strong>偏移量（offset）</strong>、<strong>客户区大小（client）</strong>、<strong>滚动大小（scroll）</strong>。这三种具体都是在他们后面加上<strong>Height</strong>、<strong>Width</strong>、<strong>Left</strong>和<strong>Top</strong>。稍作延伸就是在鼠标事件中关于鼠标位置是另外三种<strong>Client</strong>、<strong>Screen</strong>和<strong>Page</strong>。而对于这个问题本身，浏览器窗口指的应该是视口，可以利用这个元素的<code>offsetLeft</code>和<code>offsetTop</code>与其<code>offsetParent</code>的相同属性相加，如此循环直至根元素。代码如下。不过后来又找到了一个新的方法<code>getBoundingClientRect()</code>，在<a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect" target="_blank" rel="external">MDN</a>上的解释如下，更为简便，所以使用这种。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getElementLeft</span><span class="params">(ele)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> actualLeft = ele.offsetLeft;</span><br><span class="line">    <span class="keyword">var</span> current = ele.offsetParent;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (current !== <span class="literal">null</span>) &#123;</span><br><span class="line">        actualLeft += current.offsetLeft;</span><br><span class="line">        current = current.offsetParent;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> actualLeft;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//getElemetTop方法实现类似</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>The Element.getBoundingClientRect() method returns the size of an element and its position relative to the viewport.</p>
</blockquote>
<ul>
<li><strong>5、实现一个简单的Query。</strong>这个感觉自己实现的好繁琐。</li>
</ul>
<h3 id="4-_事件">4. 事件</h3><h4 id="4-1_任务描述">4.1 任务描述</h4><ul>
<li><strong>1、给元素绑定某个事件的响应。</strong>这个其实就是对事件处理程序的理解，注意兼容就是。</li>
<li><strong>2、移除响应。</strong>同上。</li>
<li><strong>3、实现对click事件的绑定。</strong>用上面的函数就行了。</li>
<li><strong>4、实现对于按Enter键时的事件绑定。</strong>注意enter的键值是13。</li>
<li><strong>5、事件代理。</strong>这个以前没接触过，去了解了一些资料。当我们需要对很多元素添加事件的时候，比如说<code>ul</code>元素里的<code>li</code>，一般会想到两种方法：直接给每个li添加onclick事件，还有就是给每个列表项调用监听，第一种方法比较简单直接，但是没有顾及到HTML与JavaScript的分离；后一种方法如果在增加监听之后，如果<code>ul</code>里面再添加一个<code>li</code>，则这个列表项没有被添加事件，也就是说事件无法绑定后加入的DOM节点。这时候就可以通过将事件添加到它们的父节点而将事件委托给父节点来触发处理函数（事件冒泡机制）。这就是事件代理。</li>
</ul>
<h3 id="5-_BOM">5. BOM</h3><h4 id="5-1_任务描述">5.1 任务描述</h4><ul>
<li><strong>1、判断IE浏览器。</strong>需要认识到的一点是：来自<code>navigator</code>对象的信息具有误导性。在<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/navigator" target="_blank" rel="external">MDN</a>上很多属性都有一句：该值可能是不”正确”的。所以<code>navigator</code>不应该被用于检测浏览器版本。这是因为，<code>navigator</code>数据可被浏览器使用者更改，而且浏览器无法报告晚于浏览器发布的新操作系统。由于<code>navigator</code>可误导浏览器检测，使用对象检测可用来嗅探不同的浏览器。由于不同的浏览器支持不同的对象，您可以使用对象来检测浏览器。例如，由于只有Opera支持属性<code>window.opera</code>，您可以据此识别出Opera。本题我使用的是<code>ActiveXObject</code>。另外此题还需要判断版本号，这里就使用了<code>navigator.userAgent</code>。</li>
<li><strong>2、设置cookie。</strong>参看<a href="http://w3school.com.cn/js/js_cookies.asp" target="_blank" rel="external">w3cschool</a></li>
<li><strong>3、获取cookie。</strong>参看<a href="http://w3school.com.cn/js/js_cookies.asp" target="_blank" rel="external">w3cschool</a></li>
</ul>
<h3 id="6-_Ajax">6. Ajax</h3><h4 id="6-1_任务描述">6.1 任务描述</h4><ul>
<li><strong>1、尝试自己封装一个Ajax方法。</strong>自己接触Ajax不多，基本上这项任务是仿照着w3cschool来的。看了一下一些厉害的人的代码，感觉好细致，要多多学习。</li>
</ul>
<h3 id="练习部分（待更新）">练习部分（待更新）</h3><h4 id="练习1">练习1</h4><h4 id="练习2">练习2</h4><h4 id="练习3：轮播图">练习3：轮播图</h4><h4 id="练习4：输入提示框">练习4：输入提示框</h4><h4 id="练习5：界面拖拽交互">练习5：界面拖拽交互</h4>
        

      </div>
    

    
      <div class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/FE/">
                #FE
              </a>
            
              <a href="/tags/IFE/">
                #IFE
              </a>
            
              <a href="/tags/JavaScript/">
                #JavaScript
              </a>
            
          </div>
        

        

        
      </div>
    
  </div>



  
    
      <div class="comments" id="comments">
        <div class="ds-thread" data-thread-key="2015/05/05/IFE任务2记录/"
             data-title="IFE任务2记录" data-url="https://nekonyan.me/2015/05/05/IFE任务2记录/">
        </div>
      </div>
    
  

          </div>

          
        </div>

        

      </div>
    </div>

    <div id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; &nbsp; 
  2015
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author">nekonyan</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT</a>
</div>



  <div class="cc-license">
    <a href="http://creativecommons.org/licenses/by-nc-sa/4.0" class="cc-opacity" target="_blank">
      <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
    </a>
  </div>



      </div>
    </div>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/dist/jquery.min.js?v=0.3.0rc1"></script>
  <script src="/vendors/jquery/dist/forkme-1.0.js"></script>

  <script type="text/javascript">
      //渲染forkme
      //第一个参数是显示的文本
      //第二个参数是链接地址
      $(document).ready(function(){
        $("body").forkme("View Forkme","https://github.com/shuaiyunzhang");
      });
  </script>
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $(".fancybox").fancybox();
    });
  </script>



  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  

  <script type="text/javascript">
    $(document).ready(function () {
      var body = $('body');
      var isSidebarVisible = false;
      var sidebarToggle = $('.sidebar-toggle');
      var sidebarToggleLine1st = $('.sidebar-toggle-line-first')
      var sidebarToggleLine2nd = $('.sidebar-toggle-line-middle');
      var sidebarToggleLine3rd = $('.sidebar-toggle-line-last');
      var sidebar = $('.sidebar');

      var sidebarToogleLineStatusInit = {width: '100%', opacity: 1, left: 0, rotateZ: 0, top: 0};

      var sidebarToggleLine1stStatusInit = sidebarToogleLineStatusInit;
      var sidebarToggleLine1stStatusArrow = {width: '50%', rotateZ: '-45deg', top: '2px'};
      var sidebarToogleLine1stStatusClose = {width: '100%', rotateZ: '-45deg', top: '5px'};

      var sidebarToggleLine2ndStatusInit = sidebarToogleLineStatusInit;
      var sidebarToggleLine2ndStatusArrow = {width: '90%'};
      var sidebarToogleLine2ndStatusClose = {opacity: 0};

      var sidebarToggleLine3rdStatusInit = sidebarToogleLineStatusInit;
      var sidebarToggleLine3rdStatusArrow = {width: '50%', rotateZ: '45deg', top: '-2px'};
      var sidebarToogleLine3rdStatusClose = {width: '100%', rotateZ: '45deg', top: '-5px'};

      sidebatToggleMotion();
      postsListMotion();
      backToTopMotion();

      function sidebarContentMotion () {
        $('.sidebar .motion-element').velocity(
          'transition.slideRightIn',
          {stagger: 50, drag: true}
        );
      }


      function backToTopMotion () {
        var b2top = $('.back-to-top');
        b2top.on('click', function () {
          body.velocity('scroll');
        });
      }

      function sidebarShowMotion () {
        var sidebarDisplayDuration = 300;
        var sidebarWidth = '320px';

        sidebarToggleLine1st.velocity(sidebarToogleLine1stStatusClose);
        sidebarToggleLine2nd.velocity(sidebarToogleLine2ndStatusClose);
        sidebarToggleLine3rd.velocity(sidebarToogleLine3rdStatusClose);

        sidebar.velocity({width: sidebarWidth}, sidebarDisplayDuration);
        isDesktop() && body.velocity({paddingRight: sidebarWidth}, sidebarDisplayDuration);
        sidebarContentMotion();
      }

      function sidebarHideMotion () {
        isDesktop() && body.velocity({paddingRight: 0});
        sidebar.velocity('reverse');

        sidebarToggleLine1st.velocity(sidebarToggleLine1stStatusInit);
        sidebarToggleLine2nd.velocity(sidebarToggleLine2ndStatusInit);
        sidebarToggleLine3rd.velocity(sidebarToggleLine3rdStatusInit);
      };

      function postsListMotion () {
        $('.post').velocity('transition.slideDownIn', {stagger: 300, drag: true});
      }

      function sidebatToggleMotion () {
        sidebarToggle.on('click', function () {
          isSidebarVisible ? sidebarHideMotion() : sidebarShowMotion();
          isSidebarVisible = !isSidebarVisible;
        });
        sidebarToggle.hover(function () {
          if (isSidebarVisible) {return}
          sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusArrow);
          sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusArrow);
          sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusArrow);
        }, function () {
          if (isSidebarVisible) {return}
          sidebarToggleLine1st.velocity('stop').velocity(sidebarToggleLine1stStatusInit);
          sidebarToggleLine2nd.velocity('stop').velocity(sidebarToggleLine2ndStatusInit);
          sidebarToggleLine3rd.velocity('stop').velocity(sidebarToggleLine3rdStatusInit);
        });
      }

      function isDesktop () {
        return screen.width > 991;
      }

      function isTablet () {
        return screen.width < 992 && screen.width > 767;
      }

      function isMobile () {
        return screen.width < 767;
      }
    });
  </script>

  

  
  
    <script type="text/javascript">
      $(document).ready(function () {
        var html = $('html');

        $('.sidebar-nav li').on('click', function () {
          var item = $(this);
          var activeTabClassName = 'sidebar-nav-active';
          var activePanelClassName = 'sidebar-panel-active';
          if (item.hasClass(activeTabClassName)) {
            return;
          }

          var currentTarget = $('.' + activePanelClassName);
          var target = $('.' + item.data('target'));

          $.Velocity
            .animate(currentTarget, 'transition.slideUpOut', 200)
            .then(function () {
              target
              .velocity('stop')
              .velocity('transition.slideDownIn', 200)
              .addClass(activePanelClassName);
            });

          item.siblings().removeClass(activeTabClassName);
          item.addClass(activeTabClassName);
        });

        $('.post-toc a').on('click', function (e) {
          e.preventDefault();
          var offset = $(this.getAttribute('href')).offset().top;
          html.velocity('stop').velocity('scroll', {
            offset: offset  + 'px',
            mobileHA: false
          });
        });
      });
    </script>
  



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"nekonyan"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
  
  <script type="text/javascript">
    (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='//www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
    ga('create','UA-59831850-1');ga('send','pageview');
  </script>

</body>
</html>
